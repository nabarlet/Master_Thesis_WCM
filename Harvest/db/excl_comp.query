SELECT C.nid,C.id,C.name from composer as C join record_performance as RP, record as R, performance as P WHERE RP.record_id = R.id and RP.performance_id = P.id and R.composer_id = C.id and P.provider_id = 1 and C.id not in (select C2.id from composer as C2 join record_performance as RP2, record as R2, performance as P2 WHERE C2.id = C.id and RP2.performance_id = P2.id and RP2.record_id = R2.id and P2.provider_id = 2) and C.id not in (select C3.id from composer as C3 join record_performance as RP3, record as R3, performance as P3 where c3.id = c.id and RP3.performance_id = P3.id and RP3.record_id = R3.id and P3.provider_id = 3) group by C.name;
